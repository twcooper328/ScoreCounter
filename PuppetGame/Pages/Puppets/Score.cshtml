@page
@model PuppetGame.Pages.Puppets.ScoreModel

@{
    ViewData["Title"] = "Create";
}

<div class="row">   
    @foreach (var item in Model.Teams){
        <div class="col css-team-input css-team-input-margin">
            <h2 class="css-team-title">@Html.DisplayFor(modelItem => item.Name)</h2>
            @{
                double start = 0;
                double turn = 0;
                int energy = 1;

                switch (item.HatChoice)
                {
                    
                    case "Visionary's Visor":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn -= 400;
                            start -= 100;
                            energy += 1;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (400*.2)+400;
                            }else{
                                turn += 400;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (100*.2)+100;
                            }else{
                                start += 100;
                            }
                            energy -= 1;
                        }
                        break;
                        case "Soothing Strawhat":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn -= 600;
                            start += 1200;
                            energy += 1;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (600*.2)+600;
                            }else{
                                turn += 600;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start -= (1200*.2)+1200;
                            }else{
                                start -= 1200;
                            }
                            energy -= 1;
                        }
                        break;
                    case "Motivating SweatBand":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn -= 150;
                            start -= 150;
                            energy -= 3;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (150*.2)+150;
                            }else{
                                turn += 150;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (150*.2)+150;
                            }else{
                                start += 150;
                            }
                            energy += 3;
                        }
                        break;
                    case "Cool-Down Cap":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start -= 1400;
                            energy += 2;
                        }
                        else{
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (1400*.2)+1400;
                            }else{
                                start += 1400;
                            }
                            energy -= 2;
                        }
                        break;
                        case "Business Bluetooth":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn -= 80;
                            start -= 700;
                            energy -= 1;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (80*.2)+80;
                            }else{
                                turn += 80;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (700*.2)+700;
                            }else{
                                start += 700;
                            }
                            energy += 1;
                        }
                        break;
                    default:
                        break;
                }  
                <p class="css-team-subtitle"><b>@Html.DisplayFor(modelItem => item.HatChoice)</b></p>
                int displayenergy = 0;
                if(energy < 1){
                    displayenergy = 0;
                }
                else{
                    displayenergy = energy;
                }
                <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>
                double total =(turn*displayenergy) + start;
                <p>Total: @total</p>

                switch (item.EyeChoice)
                {
                    
                    case "Watchful Eye":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start -= 400;
                            energy -= 1;
                        }
                        else{                            
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (400*.2)+400;
                            }else{
                                start += 400;
                            }
                            energy += 1;
                        }
                        break;
                    case "Bountiful Outlook":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn -= 200;
                            
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (200*.2)+200;
                            }else{
                                turn += 200;
                            }                            
                        }
                        break;
                   case "Market Specs":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn += 300;
                            start += 300;
                            energy += 2;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn -= (300*.2)+300;
                            }else{
                                turn -= 300;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (300*.2)+300;
                            }else{
                                start += 300;
                            }
                            energy -= 2;
                        }
                        break;
                        case "Optimistic Per-Spectacles":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start -= 200;
                            energy -= 2;
                        }
                        else{                            
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (200*.2)+200;
                            }else{
                                start += 200;
                            }
                            energy += 2;
                        }
                        break;
                    default:
                        break;
                }
                <p class="css-team-subtitle"><b>@Html.DisplayFor(modelItem => item.EyeChoice)</b></p>
                if(energy < 1){
                    displayenergy = 0;
                }
                else{
                    displayenergy = energy;
                }
                <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>
                total =(turn*displayenergy) + start;
                <p>Total: @total</p>

                switch (item.ArmChoice)
                {
                    
                    case "Power Sleeve":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start -= 100;
                            turn -= 400;
                            energy -= 1;
                        }
                        else{                            
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (400*.2)+400;
                            }else{
                                turn += 400;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (100*.2)+100;
                            }else{
                                start += 100;
                            }
                            energy += 1;
                        }
                        break;
                    case "Tiny T-Rex Arms":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start += 1500;
                            turn += 150;
                            energy -= 3;
                        }
                        else{                            
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn -= (150*.2)+150;
                            }else{
                                turn -= 150;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start -= (1500*.2)+1500;
                            }else{
                                start -= 1500;
                            }
                            energy += 3;
                        }
                        break;
                   case "Business-Case":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            turn += 170;
                            start -= 800;
                            energy += 1;
                        }
                        else{
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn -= (170*.2)+170;
                            }else{
                                turn -= 170;
                            }
                            if(item.LegChoice == "Seed-money Slacks"){
                                start += (800*.2)+800;
                            }else{
                                start += 800;
                            }
                            energy -= 1;
                        }
                        break;
                        case "Martial-Arms":
                        if(item.LegChoice == "Kris-Kross Jeans"){
                            start -= 500;
                            turn -= 200;
                            energy -= 2;
                        }
                        else{ 
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                turn += (500*.2)+500;
                            }else{
                                turn += 500;
                            }                           
                            if(item.LegChoice == "Investor's Dress-Skirt"){
                                start += (500*.2)+500;
                            }else{
                                start += 500;
                            } 
                            energy += 2;                           
                        }
                        break;
                    default:
                        break;
                }
                <p class="css-team-subtitle"><b>@Html.DisplayFor(modelItem => item.ArmChoice)</b></p>
                if(energy < 1){
                    displayenergy = 0;
                }
                else{
                    displayenergy = energy;
                }
                <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>
                total =(turn*displayenergy) + start;
                <p>Total: @total</p>

                switch (item.LegChoice)
                {
                    
                    case "Seed-money Slacks":
                            turn += 150;
                            
                        break;
                    case "Runner's Trunks":
                        start -= 300;
                            turn += 200;
                            energy += 3;
                        break;
                   case "Investor's Dress-Skirt":                            
                            start += 150;                          
                        
                        break;                        
                    default:
                        break;
                }
                <p class="css-team-subtitle"><b>@Html.DisplayFor(modelItem => item.LegChoice)</b></p>
                if(energy < 1){
                    displayenergy = 0;
                }
                else{
                    displayenergy = energy;
                }
                <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>
                
            
                if(item.EyeChoice == "Bountiful Outlook"){
                    if(energy < 2){
                        start += 2500;
                        <p class="css-team-subtitle">Outlook Bonus!</p> 
                        <p>@start <span class="css-team-subcolor">(+$2500)</span></p>
                    }
                }
                double hold = 0;
                if(item.EyeChoice == "Gambler's Gaze"){
                     
                    <p class="css-team-subtitle"><b>Gamblers Strategem!</b></p>
                    <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>
                    <p><b>SWITCH!</b></p>
                    hold = start;
                    start = turn;
                    turn = hold;  
                    <p>Money: $@start </p> <p>Profits: $@turn x @displayenergy</p>              
                }

                total =(turn*displayenergy) + start;
                double gains = total*.2;

                if(item.EyeChoice == "Market Specs"){
                    if(item.LegChoice == "Kris-Kross Jeans"){
                        <p class="css-team-subtitle">Market Bonus!</p>
                        <p>The Market is Cold</p>
                        <p>Loose $@gains</p>
                        total -= gains;
                        <p>-</p>


                    }else{
                        <p class="css-team-subtitle">Market Bonus!</p>
                        <p>The Market is Hot!</p>
                        <p>Win $@gains</p>
                        total += gains;

                    }
                }
                <h4>Team</h4>
                <h2 class="css-team-title">@Html.DisplayFor(modelItem => item.Name)</h2>                
                <h1>Final Total: $@total</h1>
                        
                }

            
        </div>
    }
</div>

<div>
    <a asp-page="Index">Back to List</a>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
